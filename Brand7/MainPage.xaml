<Page
    x:Class="Brand7.MainPage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:Brand7"
    xmlns:models="using:Brand7.Models"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    mc:Ignorable="d"
    Loaded="Page_Loaded">

    <Page.Resources>
        <Style x:Key="BtnHamburgerStyle" TargetType="Button">
            <Setter Property="FontFamily" Value="Segoe MDL2 Assets"/>
            <Setter Property="Content" Value="&#xE700;"/>
            <Setter Property="Width" Value="48"/>
            <Setter Property="Height" Value="48"/>
            <Setter Property="Background" Value="#F2F2F2"/>
        </Style>
        <Style x:Key="BtnBackStyle" TargetType="Button">
            <Setter Property="FontFamily" Value="Segoe MDL2 Assets"/>
            <Setter Property="Content" Value="&#xE0A6;"/>
            <Setter Property="Width" Value="48"/>
            <Setter Property="Height" Value="48"/>
            <Setter Property="Background" Value="Transparent"/>
        </Style>

        <DataTemplate x:Key="MenuItemTemplate" x:DataType="models:MenuModel">
            <StackPanel Orientation="Horizontal" Margin="0,5">
                <Image Source="{x:Bind Image}" 
                       Width="18"
                       Height="18"
                       Margin="4,0,0,0"/>
                <TextBlock Text="{x:Bind Category}"   
                           Margin="30,0,0,0"
                           FontSize="15"/>
            </StackPanel>
        </DataTemplate>
    </Page.Resources>

    <Grid Background="{ThemeResource ApplicationPageBackgroundThemeBrush}">

        <VisualStateManager.VisualStateGroups>
            <VisualStateGroup>
                <VisualState x:Name="Wide">
                    <VisualState.StateTriggers>
                        <AdaptiveTrigger MinWindowWidth="900"/>
                    </VisualState.StateTriggers>
                    <VisualState.Setters>
                        <Setter Target="svMenu.DisplayMode" Value="CompactOverlay"/>
                    </VisualState.Setters>
                </VisualState>
            </VisualStateGroup>
        </VisualStateManager.VisualStateGroups>

        <Grid.RowDefinitions>
            <RowDefinition Height="auto"/>
            <RowDefinition/>
        </Grid.RowDefinitions>

        <RelativePanel Background="#F2F2F2">
            <Button Name="btnHamburger" 
                    Style="{StaticResource BtnHamburgerStyle}"
                    Click="btnHamburger_Click" 
                    PointerEntered="btnHamburger_PointerEntered"/>
            <Button Name="btnBack"
                    Style="{StaticResource BtnBackStyle}"
                    Visibility="Collapsed"
                    Click="btnBack_Click"
                    RelativePanel.RightOf="btnHamburger"
                    PointerEntered="btnBack_PointerEntered"/>
        </RelativePanel>

        <SplitView Name="svMenu"
                   Grid.Row="1"
                   DisplayMode="Overlay"
                   OpenPaneLength="300">
            <SplitView.Pane>
                <ScrollViewer VerticalScrollBarVisibility="Auto">
                    <ListBox Name="lstMenu"  
                             ItemsSource="{x:Bind MenuList}" 
                             ItemTemplate="{StaticResource MenuItemTemplate}"
                             SelectionChanged="lstMenu_SelectionChanged"/>
                </ScrollViewer>
            </SplitView.Pane>

            <SplitView.Content>
                <Grid>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="auto"/>
                        <RowDefinition/>
                    </Grid.RowDefinitions>

                    <TextBlock Name="txtTitle" 
                               Text="All Brands"
                               FontSize="24" 
                               Margin="20,20"/>
                    <GridView Name="gvContent" 
                              Grid.Row="1" 
                              Padding="20,0,0,0"
                              ItemsSource="{x:Bind BrandList}"
                              SelectionMode="None"
                              IsItemClickEnabled="True"
                              ItemClick="gvContent_ItemClick">
                        <GridView.ItemTemplate>
                            <DataTemplate x:DataType="models:BrandModel">
                                <local:BrandItemTemplate Margin="2"/>
                            </DataTemplate>
                        </GridView.ItemTemplate>
                    </GridView>

                    <ProgressRing Name="pgrProcess" 
                                  Grid.Row="1"
                                  Width="80"
                                  Height="80"
                                  Foreground="Gray"/>
                    <Frame Name="frmGame" Grid.Row="1"/>

                </Grid>
            </SplitView.Content>
        </SplitView>
    </Grid>
</Page>
